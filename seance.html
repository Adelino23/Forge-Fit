<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Forge & Fit â€“ SÃ©ance guidÃ©e</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<nav class="topnav">
  <a href="index.html">ğŸ <span>Accueil</span></a>
  <a href="prise_masse.html">ğŸ’ª<span>Masse</span></a>
  <a href="perte_gras.html">ğŸ”¥<span>Perte</span></a>
  <a href="exercices.html">ğŸ“‹<span>Exos</span></a>
  <a href="seance.html">ğŸ§<span>SÃ©ance</span></a>
  <a href="plan.html">ğŸ§¬<span>Plan</span></a>
</nav>

<main class="page">
  <section class="card">
    <h1>SÃ©ance en direct</h1>
    <p>Choisis une catÃ©gorie, puis laisse-toi guider : nom de lâ€™exercice, GIF, timer et boutons Start / Pause / Suivant.</p>
    <div class="cats-row">
      <button class="cat-btn" data-cat="fullbody">Full body</button>
      <button class="cat-btn" data-cat="pecs">Pecs</button>
      <button class="cat-btn" data-cat="dos">Dos</button>
      <button class="cat-btn" data-cat="jambes">Jambes</button>
      <button class="cat-btn" data-cat="abdos">Abdos</button>
      <button class="cat-btn" data-cat="hiit">HIIT</button>
    </div>
  </section>

  <section class="card seance-main">
    <h2 id="exo-name">Choisis une catÃ©gorie</h2>
    <p id="exo-muscle"></p>
    <img id="exo-gif" src="" alt="" style="display:none;">
    <p id="exo-desc"></p>

    <div id="timer">00:30</div>

    <div class="seance-controls">
      <button onclick="setDuration(30)">30s</button>
      <button onclick="setDuration(45)">45s</button>
      <button onclick="setDuration(60)">60s</button>
    </div>

    <div class="seance-controls">
      <button class="main" onclick="startTimer()">Start</button>
      <button onclick="pauseTimer()">Pause</button>
      <button onclick="resetTimer()">Reset</button>
      <button onclick="prevExercise()">PrÃ©c.</button>
      <button onclick="nextExercise()">Suiv.</button>
    </div>

    <p style="margin-top:10px;font-size:13px;opacity:0.8;">
      Astuce : enchaÃ®ne les exercices avec le bouton <b>Suiv.</b> pour une sÃ©ance type HIIT ğŸ‘Š
    </p>
  </section>

  <footer>Forge &amp; Fit â€” SÃ©ances guidÃ©es</footer>
</main>

<script>
const programmes = {
  fullbody: [
    {
      nom: "Burpees",
      muscle: "Full body â€¢ Cardio",
      gif: "https://images.pexels.com/photos/6456084/pexels-photo-6456084.jpeg",
      desc: "30s dâ€™effort, 30s de repos. Garde un rythme rÃ©gulier."
    },
    {
      nom: "Squat sautÃ©s",
      muscle: "Jambes / Cardio",
      gif: "https://images.pexels.com/photos/6551178/pexels-photo-6551178.jpeg",
      desc: "FlÃ©chis bien les genoux, amortis la rÃ©ception."
    },
    {
      nom: "Pompes",
      muscle: "Pecs / Triceps",
      gif: "https://images.pexels.com/photos/6456003/pexels-photo-6456003.jpeg",
      desc: "Corps gainÃ©, descends contrÃ´lÃ©, remonte explosif."
    }
  ],
  pecs: [
    {
      nom: "Pompes classiques",
      muscle: "Pectoraux / Triceps",
      gif: "https://images.pexels.com/photos/1552242/pexels-photo-1552242.jpeg",
      desc: "Mains sous les Ã©paules, poitrine proche du sol."
    },
    {
      nom: "Pompes inclinÃ©es",
      muscle: "Haut des pecs",
      gif: "https://images.pexels.com/photos/3838389/pexels-photo-3838389.jpeg",
      desc: "Pieds surÃ©levÃ©s pour cibler le haut du buste."
    }
  ],
  dos: [
    {
      nom: "Rowing haltÃ¨res",
      muscle: "Dos / Biceps",
      gif: "https://images.pexels.com/photos/6550852/pexels-photo-6550852.jpeg",
      desc: "Dos droit, tire les coudes vers lâ€™arriÃ¨re."
    },
    {
      nom: "Superman au sol",
      muscle: "Bas du dos",
      gif: "https://images.pexels.com/photos/6455950/pexels-photo-6455950.jpeg",
      desc: "Contracte fessiers et lombaires, monte les bras et les jambes."
    }
  ],
  jambes: [
    {
      nom: "Squat",
      muscle: "Quadriceps / Fessiers",
      gif: "https://images.pexels.com/photos/2261485/pexels-photo-2261485.jpeg",
      desc: "Pieds Ã©cartÃ©s largeur Ã©paules, pousse dans les talons."
    },
    {
      nom: "Fentes marchÃ©es",
      muscle: "Fessiers / Ischios",
      gif: "https://images.pexels.com/photos/6455993/pexels-photo-6455993.jpeg",
      desc: "Grand pas vers lâ€™avant, genou arriÃ¨re proche du sol."
    }
  ],
  abdos: [
    {
      nom: "Crunch",
      muscle: "Abdominaux",
      gif: "https://images.pexels.com/photos/4498291/pexels-photo-4498291.jpeg",
      desc: "Monte le buste en enroulant la colonne, ne tire pas sur la nuque."
    },
    {
      nom: "Planche",
      muscle: "Core",
      gif: "https://images.pexels.com/photos/6456107/pexels-photo-6456107.jpeg",
      desc: "Corps droit, abdos serrÃ©s, ne creuse pas le bas du dos."
    }
  ],
  hiit: [
    {
      nom: "Mountain climbers",
      muscle: "Cardio / Core",
      gif: "https://images.pexels.com/photos/3823039/pexels-photo-3823039.jpeg",
      desc: "RamÃ¨ne les genoux vite vers la poitrine, garde les Ã©paules au-dessus des mains."
    },
    {
      nom: "Jumping jacks",
      muscle: "Cardio",
      gif: "https://images.pexels.com/photos/7676401/pexels-photo-7676401.jpeg",
      desc: "Reste lÃ©ger sur les appuis, respire rÃ©guliÃ¨rement."
    }
  ]
};

let currentCat = null;
let currentList = [];
let indexExo = 0;

let duration = 30;
let remaining = 30;
let timerId = null;

const exoName = document.getElementById("exo-name");
const exoMuscle = document.getElementById("exo-muscle");
const exoDesc = document.getElementById("exo-desc");
const exoGif = document.getElementById("exo-gif");
const timerEl = document.getElementById("timer");

document.querySelectorAll(".cat-btn").forEach(btn => {
  btn.addEventListener("click", () => {
    const cat = btn.getAttribute("data-cat");
    selectCategory(cat);
    document.querySelectorAll(".cat-btn").forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
  });
});

function selectCategory(cat) {
  currentCat = cat;
  currentList = programmes[cat] || [];
  indexExo = 0;
  if (currentList.length === 0) {
    exoName.textContent = "Aucun exercice";
    exoMuscle.textContent = "";
    exoDesc.textContent = "";
    exoGif.style.display = "none";
  } else {
    showExercise();
  }
}

function showExercise() {
  const ex = currentList[indexExo];
  exoName.textContent = ex.nom;
  exoMuscle.textContent = ex.muscle;
  exoDesc.textContent = ex.desc;
  exoGif.src = ex.gif;
  exoGif.style.display = "block";
  resetTimer();
}

function setDuration(sec) {
  duration = sec;
  resetTimer();
}

function formatTime(s) {
  const m = String(Math.floor(s / 60)).padStart(2,"0");
  const r = String(s % 60).padStart(2,"0");
  return `${m}:${r}`;
}

function updateTimerDisplay() {
  timerEl.textContent = formatTime(remaining);
}

function startTimer() {
  if (timerId || !currentList.length) return;
  timerId = setInterval(() => {
    remaining--;
    if (remaining <= 0) {
      remaining = 0;
      updateTimerDisplay();
      pauseTimer();
    } else {
      updateTimerDisplay();
    }
  }, 1000);
}

function pauseTimer() {
  if (timerId) {
    clearInterval(timerId);
    timerId = null;
  }
}

function resetTimer() {
  pauseTimer();
  remaining = duration;
  updateTimerDisplay();
}

function nextExercise() {
  if (!currentList.length) return;
  indexExo = (indexExo + 1) % currentList.length;
  showExercise();
}

function prevExercise() {
  if (!currentList.length) return;
  indexExo = (indexExo - 1 + currentList.length) % currentList.length;
  showExercise();
}

resetTimer();
</script>
</body>
</html>
