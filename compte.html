<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Forge & Fit â€“ Mon compte</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<nav class="topnav">
  <a href="index.html">ğŸ <span>Accueil</span></a>
  <a href="prise_masse.html">ğŸ’ª<span>Masse</span></a>
  <a href="perte_gras.html">ğŸ”¥<span>Perte</span></a>
  <a href="exercices.html">ğŸ“‹<span>Exos</span></a>
  <a href="seance.html">ğŸ§<span>SÃ©ance</span></a>
  <a href="plan.html">ğŸ§¬<span>Plan</span></a>
</nav>

<main class="page">
  <section class="card">
    <h1>Mon compte</h1>
    <p>Simple espace perso en local sur ton tÃ©lÃ©phone (rien nâ€™est envoyÃ© sur un serveur).</p>

    <form id="profil-form">
      <label>Pseudo :</label>
      <input id="pseudo" type="text" placeholder="ForgeLino">

      <label>Poids (kg) :</label>
      <input id="poids" type="number" step="0.1">

      <label>Taille (cm) :</label>
      <input id="taille" type="number">

      <label>Objectif actuel :</label>
      <select id="objectif-profil">
        <option value="masse">Prise de masse</option>
        <option value="perte">Perte de gras</option>
        <option value="perf">Performance</option>
      </select>

      <button type="submit" class="btn-main" style="margin-top:14px;">ğŸ’¾ Sauvegarder</button>
    </form>
  </section>

  <section class="card" id="profil-view" style="display:none;">
    <h2>RÃ©sumÃ©</h2>
    <div class="info-row">Pseudo : <span id="v-pseudo"></span></div>
    <div class="info-row">Poids : <span id="v-poids"></span> kg</div>
    <div class="info-row">Taille : <span id="v-taille"></span> cm</div>
    <div class="info-row">Objectif : <span id="v-objectif"></span></div>
  </section>

  <footer>Forge &amp; Fit â€” Mon compte (stockÃ© en local)</footer>
</main>

<script>
const keyProfil = "forgefit_profil";
const formProfil = document.getElementById("profil-form");
const viewProfil = document.getElementById("profil-view");

function loadProfil() {
  const data = localStorage.getItem(keyProfil);
  if (!data) return;
  const p = JSON.parse(data);
  document.getElementById("pseudo").value = p.pseudo || "";
  document.getElementById("poids").value = p.poids || "";
  document.getElementById("taille").value = p.taille || "";
  document.getElementById("objectif-profil").value = p.objectif || "masse";
  document.getElementById("v-pseudo").textContent = p.pseudo || "-";
  document.getElementById("v-poids").textContent = p.poids || "-";
  document.getElementById("v-taille").textContent = p.taille || "-";
  document.getElementById("v-objectif").textContent = p.objectif || "-";
  viewProfil.style.display = "block";
}

formProfil.addEventListener("submit", (e) => {
  e.preventDefault();
  const profil = {
    pseudo: document.getElementById("pseudo").value,
    poids: document.getElementById("poids").value,
    taille: document.getElementById("taille").value,
    objectif: document.getElementById("objectif-profil").value
  };
  localStorage.setItem(keyProfil, JSON.stringify(profil));
  loadProfil();
  alert("Profil sauvegardÃ© âœ…");
});

loadProfil();
</script>
</body>
</html>
