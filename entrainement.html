<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Forge & Fit ‚Äì S√©ance</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- NAV HAUT -->
<nav>
  <a href="index.html">Accueil</a>
  <a href="prise-masse.html">Prise de masse</a>
  <a href="perte-gras.html">Perte de gras</a>
  <a href="exercices.html">Exercices</a>
  <a href="entrainement.html">S√©ance</a>
  <a href="plan.html">Plan perso</a>
  <a href="compte.html">Mon compte</a>
</nav>

<header class="hero">
  <div class="hero-tagline">Mode s√©ance</div>
  <h1 class="hero-title">S√©ance en direct</h1>
  <p class="hero-sub">Choisis un groupe musculaire et suis la s√©ance avec le chrono int√©gr√©.</p>
</header>

<main>

  <section class="card">
    <h2>S√©lectionne ta s√©ance</h2>

    <div class="btn-row" style="margin-top:12px;">
      <button class="btn btn-primary" onclick="chargerSeance('fullbody')">üî• Full-body</button>
      <button class="btn btn-ghost" onclick="chargerSeance('pecs')">üí™ Pectoraux</button>
      <button class="btn btn-ghost" onclick="chargerSeance('dos')">üîµ Dos</button>
      <button class="btn btn-ghost" onclick="chargerSeance('jambes')">üü° Jambes</button>
      <button class="btn btn-ghost" onclick="chargerSeance('abdos')">üü† Abdos</button>
    </div>

    <div id="preview-zone" style="display:none; margin-top:16px;">
      <p id="preview-text" style="margin-bottom:12px;"></p>
      <button class="btn btn-primary" onclick="ouvrirFullscreen()">üöÄ Lancer en plein √©cran</button>
    </div>
  </section>

</main>

<!-- MODE FULLSCREEN -->
<div id="fs-overlay" class="fs-overlay">
  <div class="fs-inner">

    <div class="fs-top">
      <div>
        <div id="fs-type" class="fs-title"></div>
        <div id="fs-progress"></div>
      </div>
      <div class="fs-close" onclick="fermerFullscreen()">‚úï</div>
    </div>

    <div class="fs-timer-wrap">
      <div class="fs-circle-bg"></div>
      <div id="fs-circle" class="fs-circle">
        <div class="fs-circle-inner">
          <div id="fs-timer" class="fs-timer-text">00:00</div>
          <div id="fs-timer-label" class="fs-timer-label">Pr√™t</div>
        </div>
      </div>
    </div>

    <h2 id="fs-exo-nom"></h2>
    <p id="fs-exo-muscle"></p>
    <img id="fs-exo-img" class="fs-img" src="">
    <p id="fs-exo-desc"></p>

    <div class="btn-row">
      <button class="btn btn-ghost" onclick="setDuree(30)">30s</button>
      <button class="btn btn-ghost" onclick="setDuree(45)">45s</button>
      <button class="btn btn-ghost" onclick="setDuree(60)">60s</button>
      <button class="btn btn-ghost" onclick="setDuree(90)">90s</button>
    </div>

    <div class="btn-row">
      <button class="btn btn-primary" onclick="startTimer()">‚ñ∂Ô∏è Start</button>
      <button class="btn btn-ghost" onclick="pauseTimer()">‚è∏ Pause</button>
      <button class="btn btn-ghost" onclick="resetTimer()">üîÅ Reset</button>
      <button class="btn btn-ghost" onclick="prevExercice()">‚¨ÖÔ∏è Pr√©c.</button>
      <button class="btn btn-ghost" onclick="nextExercice()">Suiv. ‚û°Ô∏è</button>
    </div>

  </div>
</div>

<footer>
  Forge & Fit ¬© 2025 ‚Äî S√©ances guid√©es premium.
</footer>

<script>
/* PROGRAMMES PREMIUM AVEC BELLES IMAGES */
const programmes = {
  fullbody: [
    { nom:"Squat", muscle:"Jambes / Fessiers",
      img:"https://images.pexels.com/photos/2261485/pexels-photo-2261485.jpeg",
      desc:"4 s√©ries ‚Ä¢ 8‚Äì12 r√©p√©titions" },

    { nom:"D√©velopp√© couch√©", muscle:"Pectoraux",
      img:"https://images.pexels.com/photos/6456126/pexels-photo-6456126.jpeg",
      desc:"4 s√©ries ‚Ä¢ 6‚Äì10 r√©p√©titions" },

    { nom:"Rowing barre", muscle:"Dos",
      img:"https://images.pexels.com/photos/3823039/pexels-photo-3823039.jpeg",
      desc:"4 s√©ries ‚Ä¢ 8‚Äì12 r√©p√©titions" }
  ],

  pecs: [
    { nom:"D√©velopp√© couch√© barre", muscle:"Pectoraux",
      img:"https://images.pexels.com/photos/6456170/pexels-photo-6456170.jpeg",
      desc:"4 s√©ries ‚Ä¢ 6‚Äì10 r√©p√©titions" },

    { nom:"D√©velopp√© inclin√© halt√®res", muscle:"Haut des pecs",
      img:"https://images.pexels.com/photos/6455836/pexels-photo-6455836.jpeg",
      desc:"3 s√©ries ‚Ä¢ 8‚Äì12 r√©p√©titions" },

    { nom:"√âcart√©s halt√®res", muscle:"Pectoraux",
      img:"https://images.pexels.com/photos/3838385/pexels-photo-3838385.jpeg",
      desc:"3 s√©ries ‚Ä¢ 12‚Äì15 r√©p√©titions" }
  ],

  dos: [
    { nom:"Tractions", muscle:"Grand dorsal",
      img:"https://images.pexels.com/photos/4761355/pexels-photo-4761355.jpeg",
      desc:"4 s√©ries ‚Ä¢ max r√©p√©titions" },

    { nom:"Rowing halt√®re", muscle:"Dos √©paisseur",
      img:"https://images.pexels.com/photos/6740008/pexels-photo-6740008.jpeg",
      desc:"4 s√©ries ‚Ä¢ 8‚Äì12 r√©p√©titions" },

    { nom:"Tirage poulie haute", muscle:"Dorsaux",
      img:"https://images.pexels.com/photos/7676401/pexels-photo-7676401.jpeg",
      desc:"3 s√©ries ‚Ä¢ 10‚Äì12 r√©p√©titions" }
  ],

  jambes: [
    { nom:"Presse √† cuisses", muscle:"Quadriceps",
      img:"https://images.pexels.com/photos/6551175/pexels-photo-6551175.jpeg",
      desc:"4 s√©ries ‚Ä¢ 10‚Äì15 r√©p√©titions" },

    { nom:"Fentes march√©es", muscle:"Fessiers",
      img:"https://images.pexels.com/photos/6455982/pexels-photo-6455982.jpeg",
      desc:"3 s√©ries ‚Ä¢ 12 r√©p√©titions par jambe" },

    { nom:"Soulev√© de terre roumain", muscle:"Ischios",
      img:"https://images.pexels.com/photos/8411305/pexels-photo-8411305.jpeg",
      desc:"4 s√©ries ‚Ä¢ 8‚Äì10 r√©p√©titions" }
  ],

  abdos: [
    { nom:"Crunch", muscle:"Abdominaux",
      img:"https://images.pexels.com/photos/4498291/pexels-photo-4498291.jpeg",
      desc:"3 s√©ries ‚Ä¢ 20 r√©p√©titions" },

    { nom:"Planche", muscle:"Core",
      img:"https://images.pexels.com/photos/6456107/pexels-photo-6456107.jpeg",
      desc:"3 √ó 45‚Äì60 sec" },

    { nom:"Relev√©s de jambes", muscle:"Bas des abdos",
      img:"https://images.pexels.com/photos/4761354/pexels-photo-4761354.jpeg",
      desc:"3 s√©ries ‚Ä¢ 10‚Äì15 r√©p√©titions" }
  ]
};

/* VARIABLES */
let exercices = [];
let indexExo = 0;
let typeSeance = null;

let timer = null;
let dureeTotale = 60;
let restant = 60;

/* ELEMENTS */
const fsOverlay = document.getElementById("fs-overlay");
const fsNom = document.getElementById("fs-exo-nom");
const fsMuscle = document.getElementById("fs-exo-muscle");
const fsImg = document.getElementById("fs-exo-img");
const fsDesc = document.getElementById("fs-exo-desc");
const fsProgress = document.getElementById("fs-progress");
const timerText = document.getElementById("fs-timer");
const timerLabel = document.getElementById("fs-timer-label");
const circle = document.getElementById("fs-circle");
const previewZone = document.getElementById("preview-zone");
const previewText = document.getElementById("preview-text");

/* CHOISIR SEANCE */
function chargerSeance(type) {
  exercices = programmes[type];
  typeSeance = type;
  indexExo = 0;
  previewZone.style.display = "block";
  previewText.textContent = `S√©lectionn√© : ${type.toUpperCase()} (${exercices.length} exercices)`;
}

/* FULLSCREEN */
function ouvrirFullscreen() {
  fsOverlay.classList.add("active");
  afficherExercice();
}

function fermerFullscreen() {
  fsOverlay.classList.remove("active");
  pauseTimer();
}

/* AFFICHER EXERCICE */
function afficherExercice() {
  const ex = exercices[indexExo];
  fsProgress.textContent = `Exercice ${indexExo + 1} / ${exercices.length}`;
  fsNom.textContent = ex.nom;
  fsMuscle.textContent = ex.muscle;
  fsImg.src = ex.img;
  fsDesc.textContent = ex.desc;
  resetTimer();
}

/* SUIVANT / PRECEDENT */
function nextExercice() {
  if (indexExo < exercices.length - 1) {
    indexExo++;
    afficherExercice();
  } else {
    fermerFullscreen();
    alert("S√©ance termin√©e !");
  }
}

function prevExercice() {
  if (indexExo > 0) {
    indexExo--;
    afficherExercice();
  }
}

/* TIMER */
function setDuree(sec) {
  dureeTotale = sec;
  resetTimer();
}

function startTimer() {
  if (timer) return;
  timerLabel.textContent = "En cours";

  const start = Date.now() - (dureeTotale - restant) * 1000;
  timer = setInterval(() => {
    restant = Math.max(dureeTotale - Math.floor((Date.now() - start) / 1000), 0);
    updateTimer();

    if (restant === 0) {
      pauseTimer();
      timerLabel.textContent = "Termin√©";
    }
  }, 200);
}

function pauseTimer() {
  clearInterval(timer);
  timer = null;
  timerLabel.textContent = "Pause";
}

function resetTimer() {
  pauseTimer();
  restant = dureeTotale;
  updateTimer();
  timerLabel.textContent = "Pr√™t";
}

function updateTimer() {
  const m = String(Math.floor(restant / 60)).padStart(2, "0");
  const s = String(restant % 60).padStart(2, "0");
  timerText.textContent = `${m}:${s}`;

  const progress = 1 - restant / dureeTotale;
  const deg = 360 * progress;

  circle.style.background = `conic-gradient(#ef4444 0deg ${deg}deg, #1b1025 ${deg}deg 360deg)`;
}

/* SWIPE */
let xStart = 0;
fsOverlay.addEventListener("touchstart", e => xStart = e.touches[0].clientX);
fsOverlay.addEventListener("touchend", e => {
  const dx = e.changedTouches[0].clientX - xStart;
  if (Math.abs(dx) > 70) {
    if (dx < 0) nextExercice();
    else prevExercice();
  }
});
</script>

</body>
</html>
