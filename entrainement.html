<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Forge & Fit ‚Äì S√©ance</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="style.css" />

<style>
/* --- GLOBAL --- */
body {
  margin: 0;
  background: #0d0516;
  color: white;
  font-family: Arial, sans-serif;
}

/* --- NAV --- */
nav {
  display: flex;
  justify-content: center;
  gap: 12px;
  padding: 10px;
}
nav a {
  color: white;
  text-decoration: none;
  font-weight: bold;
  opacity: 0.8;
}
nav a:hover {
  opacity: 1;
}

/* --- CARD --- */
.card {
  background: rgba(255,255,255,0.05);
  padding: 15px;
  margin: 15px;
  border-radius: 12px;
  text-align: center;
  box-shadow: 0 0 20px rgba(0,0,0,0.4);
}

/* --- BUTTONS --- */
button {
  background: #3c46ff;
  color: white;
  border: none;
  padding: 12px 18px;
  border-radius: 8px;
  font-size: 15px;
  cursor: pointer;
}
button:hover {
  background: #5b63ff;
}

.btn-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 10px;
}

/* --- FULLSCREEN OVERLAY --- */
.fs-overlay {
  position: fixed;
  inset: 0;
  background: #0d0516;
  display: none;
  z-index: 999999;
  padding: 15px;
  overflow-y: auto;
}

.fs-overlay.active {
  display: block;
}

.fs-img {
  width: 100%;
  border-radius: 12px;
  margin: 15px 0;
}

.fs-timer {
  font-size: 48px;
  font-weight: bold;
  margin-top: 10px;
}
</style>
</head>

<body>

<nav>
  <a href="index.html">Accueil</a>
  <a href="prise-masse.html">Prise de masse</a>
  <a href="perte-gras.html">Perte de gras</a>
  <a href="exercices.html">Exercices</a>
  <a href="entrainement.html">S√©ance</a>
  <a href="compte.html">Compte</a>
</nav>

<h2 style="text-align:center;margin-top:20px;">S√©ance</h2>

<div class="card">
  <p>Choisis une s√©ance :</p>

  <div class="btn-row">
    <button onclick="chargerSeance('fullbody')">üî• Full Body</button>
    <button onclick="chargerSeance('pecs')">üí™ Pectoraux</button>
    <button onclick="chargerSeance('dos')">üîµ Dos</button>
    <button onclick="chargerSeance('jambes')">üü° Jambes</button>
    <button onclick="chargerSeance('abdos')">üü† Abdos</button>
  </div>

  <div id="preview" style="margin-top:15px; display:none;">
    <p id="previewTxt"></p>
    <button onclick="ouvrirFullscreen()">üöÄ Lancer</button>
  </div>
</div>

<!-- FULLSCREEN -->
<div id="fs" class="fs-overlay">

  <button onclick="fermerFullscreen()" style="background:red;width:100%;margin-bottom:10px;">
    Quitter
  </button>

  <p id="fs-progress"></p>
  <p class="fs-timer" id="fs-timer">00:00</p>

  <h2 id="fs-nom"></h2>
  <p id="fs-muscle"></p>
  <img id="fs-img" class="fs-img" src="">
  <p id="fs-desc"></p>

  <div class="btn-row">
    <button onclick="setDuree(30)">30s</button>
    <button onclick="setDuree(45)">45s</button>
    <button onclick="setDuree(60)">60s</button>
  </div>

  <div class="btn-row">
    <button onclick="startTimer()">Start</button>
    <button onclick="pauseTimer()">Pause</button>
    <button onclick="resetTimer()">Reset</button>
    <button onclick="prevExercice()">‚óÄÔ∏è</button>
    <button onclick="nextExercice()">‚ñ∂Ô∏è</button>
  </div>
</div>

<script>
/* ===== PROGRAMMES ===== */
const programmes = {
  fullbody: [
    { nom: "Squat", muscle: "Jambes / Fessiers", img: "https://images.pexels.com/photos/2261485/pexels-photo-2261485.jpeg", desc: "4√ó12" },
    { nom: "D√©velopp√© couch√©", muscle: "Pectoraux", img: "https://images.pexels.com/photos/6456126/pexels-photo-6456126.jpeg", desc: "4√ó10" },
    { nom: "Rowing Barre", muscle: "Dos / Biceps", img: "https://images.pexels.com/photos/3823039/pexels-photo-3823039.jpeg", desc: "4√ó12" }
  ],

  pecs: [
    { nom: "D√©velopp√© couch√©", muscle: "Pectoraux", img: "https://images.pexels.com/photos/6456170/pexels-photo-6456170.jpeg", desc: "4√ó8" },
    { nom: "Ecart√©s halt√®res", muscle: "Pectoraux", img: "https://images.pexels.com/photos/3838385/pexels-photo-3838385.jpeg", desc: "4√ó15" }
  ],

  dos: [
    { nom: "Tractions", muscle: "Dos", img: "https://images.pexels.com/photos/4761355/pexels-photo-4761355.jpeg", desc: "4√ómax" },
    { nom: "Rowing halt√®re", muscle: "Dos", img: "https://images.pexels.com/photos/6740008/pexels-photo-6740008.jpeg", desc: "4√ó12" }
  ],

  jambes: [
    { nom: "Presse", muscle: "Quadriceps", img: "https://images.pexels.com/photos/6551175/pexels-photo-6551175.jpeg", desc: "4√ó15" },
    { nom: "Fentes", muscle: "Fessiers", img: "https://images.pexels.com/photos/6455982/pexels-photo-6455982.jpeg", desc: "3√ó20" }
  ],

  abdos: [
    { nom: "Crunch", muscle: "Abdos", img: "https://images.pexels.com/photos/4498291/pexels-photo-4498291.jpeg", desc: "3√ó20" },
    { nom: "Planche", muscle: "Core", img: "https://images.pexels.com/photos/6456107/pexels-photo-6456107.jpeg", desc: "3√ó45sec" }
  ]
};

/* ===== VARIABLES ===== */
let exercices = [];
let indexExo = 0;
let timer = null;
let dureeTotale = 60;
let restant = 60;

/* ===== CHARGEMENT ===== */
function chargerSeance(type) {
  exercices = programmes[type];
  indexExo = 0;
  document.getElementById("preview").style.display = "block";
  document.getElementById("previewTxt").textContent =
    `S√©lectionn√© : ${type.toUpperCase()} (${exercices.length} exercices)`;
}

/* ===== FULLSCREEN ===== */
function ouvrirFullscreen() {
  const elem = document.documentElement;
  if (elem.requestFullscreen) elem.requestFullscreen();

  document.getElementById("fs").classList.add("active");
  afficher();
}

function fermerFullscreen() {
  if (document.exitFullscreen) document.exitFullscreen();

  document.getElementById("fs").classList.remove("active");
  pauseTimer();
}

/* ===== AFFICHAGE ===== */
function afficher() {
  const ex = exercices[indexExo];
  document.getElementById("fs-progress").textContent =
    `Exercice ${indexExo+1} / ${exercices.length}`;
  document.getElementById("fs-nom").textContent = ex.nom;
  document.getElementById("fs-muscle").textContent = ex.muscle;
  document.getElementById("fs-img").src = ex.img;
  document.getElementById("fs-desc").textContent = ex.desc;
  resetTimer();
}

function nextExercice() {
  if (indexExo < exercices.length-1) {
    indexExo++;
    afficher();
  }
}
function prevExercice() {
  if (indexExo > 0) {
    indexExo--;
    afficher();
  }
}

/* ===== TIMER ===== */
function setDuree(sec){
  dureeTotale = sec;
  resetTimer();
}
function startTimer(){
  if (timer) return;
  const start = Date.now() - (dureeTotale-restant)*1000;

  timer = setInterval(() => {
    restant = Math.max(dureeTotale - Math.floor((Date.now()-start)/1000), 0);
    updateTimer();

    if (restant === 0) pauseTimer();
  },200);
}
function pauseTimer(){
  clearInterval(timer);
  timer = null;
}
function resetTimer(){
  pauseTimer();
  restant = dureeTotale;
  updateTimer();
}
function updateTimer(){
  const m = String(Math.floor(restant/60)).padStart(2,"0");
  const s = String(restant%60).padStart(2,"0");
  document.getElementById("fs-timer").textContent = `${m}:${s}`;
}
</script>

</body>
</html>
