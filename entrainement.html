<!DOCTYPE html>
<html lang="fr">

<head>
<meta charset="UTF-8">
<title>Forge & Fit ‚Äì S√©ance</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">

<style>
/* ====== LAYOUT ====== */
.ex-container { max-width: 650px; margin: auto; text-align: center; }
.ex-image { width: 100%; border-radius: 12px; margin: 15px 0; }

/* BOUTONS */
.btn-row { display: flex; flex-wrap: wrap; justify-content: center; gap: 8px; margin: 12px 0; }
.small-btn {
  padding: 8px 14px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.12);
  background: #0e0e17;
  font-size: 14px;
  cursor: pointer;
}
.small-btn:hover { background: #ff3131; border-color: #ff3131; }

/* TIMER FULLSCREEN */
.fs-overlay {
  position: fixed; inset: 0;
  background: radial-gradient(circle at top, #2a123f 0, #05030a 45%, #020105 100%);
  display: none; color: white; z-index: 999;
}
.fs-overlay.active {
  display: flex; align-items: center; justify-content: center;
}
.fs-inner {
  width: 100%; max-width: 480px;
  padding: 20px; display: flex; flex-direction: column; gap: 15px;
}
.fs-top {
  display: flex; justify-content: space-between; align-items: center;
  font-size: 13px; opacity: 0.85;
}
.fs-close { font-size: 22px; cursor: pointer; }

.fs-timer-wrap { position: relative; width: 240px; height: 240px; margin: 0 auto; }
.fs-circle-bg {
  position: absolute; inset: 0; border-radius: 50%;
  background: #12091a; box-shadow: 0 18px 40px rgba(0,0,0,0.6);
}
.fs-circle {
  position: absolute; inset: 0; padding: 12px;
  border-radius: 50%;
  background: conic-gradient(#a855f7 0deg, #1b1025 0deg 360deg);
  display: flex; align-items: center; justify-content: center;
}
.fs-circle-inner {
  background: #12091a; border-radius: 50%;
  width: 100%; height: 100%;
  display: flex; flex-direction: column; align-items: center; justify-content: center;
}

.fs-timer-text { font-size: 38px; font-weight: bold; }
.fs-timer-label { font-size: 14px; opacity: 0.7; }

.fs-img { width: 100%; border-radius: 15px; margin-top: 8px; }
</style>
</head>

<body>

<header>S√âANCE EN DIRECT</header>

<nav>
  <a href="index.html">Accueil</a>
  <a href="prise-masse.html">Prise de masse</a>
  <a href="perte-gras.html">Perte de gras</a>
  <a href="exercices.html">Exercices</a>
  <a href="entra√Ænement.html">S√©ance</a>   <!-- AVEC ACCENT !! -->
  <a href="plan.html">Plan personnalis√©</a>
  <a href="compte.html">Mon compte</a>
</nav>

<section class="ex-container">
  <h2>Lance ta s√©ance Forge & Fit</h2>

  <div class="card">
    <p>S√©lectionne une s√©ance ci-dessous :</p>

    <div class="btn-row">
      <button class="small-btn" onclick="chargerSeance('fullbody')">üî• Full-body</button>
      <button class="small-btn" onclick="chargerSeance('pecs')">üí™ Pecs</button>
      <button class="small-btn" onclick="chargerSeance('dos')">üîµ Dos</button>
      <button class="small-btn" onclick="chargerSeance('jambes')">üü° Jambes</button>
      <button class="small-btn" onclick="chargerSeance('abdos')">üü† Abdos</button>
    </div>
  </div>

  <div id="preview-zone" class="card" style="display:none;margin-top:16px;">
    <p id="preview-text"></p>
    <button onclick="ouvrirFullscreen()">üöÄ Mode Plein √©cran</button>
  </div>
</section>

<!-- ===== FULLSCREEN MODE ===== -->
<div id="fs-overlay" class="fs-overlay">
  <div class="fs-inner">

    <div class="fs-top">
      <div>
        <div id="fs-type" class="fs-title">S√©ance</div>
        <div id="fs-progress"></div>
      </div>
      <div class="fs-close" onclick="fermerFullscreen()">‚úï</div>
    </div>

    <div class="fs-timer-wrap">
      <div class="fs-circle-bg"></div>
      <div id="fs-circle" class="fs-circle">
        <div class="fs-circle-inner">
          <div id="fs-timer" class="fs-timer-text">00:00</div>
          <div id="fs-timer-label" class="fs-timer-label">Pr√™t</div>
        </div>
      </div>
    </div>

    <h2 id="fs-exo-nom">Exercice</h2>
    <p id="fs-exo-muscle"></p>
    <img id="fs-exo-img" class="fs-img" src="">
    <p id="fs-exo-desc"></p>

    <div class="btn-row">
      <button class="small-btn" onclick="setDuree(30)">30s</button>
      <button class="small-btn" onclick="setDuree(45)">45s</button>
      <button class="small-btn" onclick="setDuree(60)">60s</button>
    </div>

    <div class="btn-row">
      <button class="small-btn" onclick="startTimer()">‚ñ∂Ô∏è Start</button>
      <button class="small-btn" onclick="pauseTimer()">‚è∏ Pause</button>
      <button class="small-btn" onclick="resetTimer()">üîÅ Reset</button>
      <button class="small-btn" onclick="prevExercice()">‚¨ÖÔ∏è Pr√©c.</button>
      <button class="small-btn" onclick="nextExercice()">Suiv. ‚û°Ô∏è</button>
    </div>
  </div>
</div>

<footer>Forge & Fit ¬© 2025</footer>

<script>
/* ===== PROGRAMMES PRO ===== */
const programmes = {
  fullbody: [
    {
      nom: "Squat",
      muscle: "Quadriceps / Fessiers",
      img: "https://images.pexels.com/photos/2261485/pexels-photo-2261485.jpeg",
      desc: "4 s√©ries ‚Ä¢ 8‚Äì12 r√©p√©titions"
    },
    {
      nom: "D√©velopp√© couch√©",
      muscle: "Pectoraux",
      img: "https://images.pexels.com/photos/6456126/pexels-photo-6456126.jpeg",
      desc: "4 s√©ries ‚Ä¢ 6‚Äì10 r√©p√©titions"
    },
    {
      nom: "Rowing barre",
      muscle: "Dos / Biceps",
      img: "https://images.pexels.com/photos/3823039/pexels-photo-3823039.jpeg",
      desc: "4 s√©ries ‚Ä¢ 8‚Äì12 r√©p√©titions"
    }
  ],

  pecs: [
    {
      nom: "D√©velopp√© couch√© barre",
      muscle: "Pectoraux",
      img: "https://images.pexels.com/photos/6456170/pexels-photo-6456170.jpeg",
      desc: "4 s√©ries ‚Ä¢ 6‚Äì10 r√©p√©titions"
    },
    {
      nom: "D√©velopp√© inclin√© halt√®res",
      muscle: "Haut des pectoraux",
      img: "https://images.pexels.com/photos/6455836/pexels-photo-6455836.jpeg",
      desc: "3 s√©ries ‚Ä¢ 8‚Äì12 r√©p√©titions"
    },
    {
      nom: "√âcart√©s halt√®res",
      muscle: "Pectoraux",
      img: "https://images.pexels.com/photos/3838385/pexels-photo-3838385.jpeg",
      desc: "3 s√©ries ‚Ä¢ 12‚Äì15 r√©p√©titions"
    }
  ],

  dos: [
    {
      nom: "Tractions pronation",
      muscle: "Grand dorsal",
      img: "https://images.pexels.com/photos/4761355/pexels-photo-4761355.jpeg",
      desc: "4 s√©ries ‚Ä¢ max r√©p√©titions"
    },
    {
      nom: "Rowing halt√®re",
      muscle: "Dos √©paisseur",
      img: "https://images.pexels.com/photos/6740008/pexels-photo-6740008.jpeg",
      desc: "4 s√©ries ‚Ä¢ 8‚Äì12 r√©p√©titions"
    },
    {
      nom: "Tirage poulie haute",
      muscle: "Dorsaux",
      img: "https://images.pexels.com/photos/7676401/pexels-photo-7676401.jpeg",
      desc: "3 s√©ries ‚Ä¢ 10‚Äì12 r√©p√©titions"
    }
  ],

  jambes: [
    {
      nom: "Presse √† cuisses",
      muscle: "Quadriceps",
      img: "https://images.pexels.com/photos/6551175/pexels-photo-6551175.jpeg",
      desc: "4 s√©ries ‚Ä¢ 10‚Äì15 r√©p√©titions"
    },
    {
      nom: "Fentes march√©es",
      muscle: "Fessiers / Ischios",
      img: "https://images.pexels.com/photos/6455982/pexels-photo-6455982.jpeg",
      desc: "3 s√©ries ‚Ä¢ 12 r√©p√©titions par jambe"
    },
    {
      nom: "Soulev√© de terre roumain",
      muscle: "Ischios / Bas du dos",
      img: "https://images.pexels.com/photos/8411305/pexels-photo-8411305.jpeg",
      desc: "4 s√©ries ‚Ä¢ 8‚Äì10 r√©p√©titions"
    }
  ],

  abdos: [
    {
      nom: "Crunch",
      muscle: "Abdominaux",
      img: "https://images.pexels.com/photos/4498291/pexels-photo-4498291.jpeg",
      desc: "3 s√©ries ‚Ä¢ 15‚Äì20 r√©p√©titions"
    },
    {
      nom: "Gainage planche",
      muscle: "Core",
      img: "https://images.pexels.com/photos/6456107/pexels-photo-6456107.jpeg",
      desc: "3 √ó 45‚Äì60 secondes"
    },
    {
      nom: "Relev√©s de jambes",
      muscle: "Bas des abdos",
      img: "https://images.pexels.com/photos/4761354/pexels-photo-4761354.jpeg",
      desc: "3 s√©ries ‚Ä¢ 10‚Äì15 r√©p√©titions"
    }
  ]
};

/* ===== VARIABLES ===== */
let exercices = [];
let indexExo = 0;
let typeSeance = null;

let timer = null;
let dureeTotale = 60;
let restant = 60;

const fsOverlay = document.getElementById("fs-overlay");
const fsNom = document.getElementById("fs-exo-nom");
const fsMuscle = document.getElementById("fs-exo-muscle");
const fsImg = document.getElementById("fs-exo-img");
const fsDesc = document.getElementById("fs-exo-desc");
const fsProgress = document.getElementById("fs-progress");
const timerText = document.getElementById("fs-timer");
const timerLabel = document.getElementById("fs-timer-label");
const circle = document.getElementById("fs-circle");
const previewZone = document.getElementById("preview-zone");
const previewText = document.getElementById("preview-text");

/* ====== CHARGER S√âANCE ====== */
function chargerSeance(type) {
  exercices = programmes[type];
  typeSeance = type;
  indexExo = 0;
  previewZone.style.display = "block";
  previewText.textContent = `S√©ance : ${type.toUpperCase()} ‚Äì ${exercices.length} exercices.`;
}

/* ====== FULLSCREEN ====== */
function ouvrirFullscreen() {
  fsOverlay.classList.add("active");
  afficherExercice();
}
function fermerFullscreen() {
  fsOverlay.classList.remove("active");
  pauseTimer();
}

/* ===== EXERCICES ===== */
function afficherExercice() {
  const ex = exercices[indexExo];

  fsProgress.textContent = `Exercice ${indexExo + 1} / ${exercices.length}`;
  fsNom.textContent = ex.nom;
  fsMuscle.textContent = ex.muscle;
  fsImg.src = ex.img;
  fsDesc.textContent = ex.desc;

  resetTimer();
}

function nextExercice() {
  if (indexExo < exercices.length - 1) {
    indexExo++;
    afficherExercice();
  } else {
    fermerFullscreen();
    alert("S√©ance termin√©e !");
  }
}

function prevExercice() {
  if (indexExo > 0) {
    indexExo--;
    afficherExercice();
  }
}

/* ===== TIMER ===== */
function setDuree(sec) {
  dureeTotale = sec;
  resetTimer();
}

function startTimer() {
  if (timer) return;
  timerLabel.textContent = "En cours";

  const start = Date.now() - (dureeTotale - restant) * 1000;
  timer = setInterval(() => {
    restant = Math.max(dureeTotale - Math.floor((Date.now() - start) / 1000), 0);
    updateTimer();

    if (restant === 0) {
      pauseTimer();
      timerLabel.textContent = "Termin√©";
    }
  }, 200);
}

function pauseTimer() {
  clearInterval(timer);
  timer = null;
  timerLabel.textContent = "Pause";
}

function resetTimer() {
  pauseTimer();
  restant = dureeTotale;
  updateTimer();
  timerLabel.textContent = "Pr√™t";
}

function updateTimer() {
  const m = String(Math.floor(restant / 60)).padStart(2, "0");
  const s = String(restant % 60).padStart(2, "0");
  timerText.textContent = `${m}:${s}`;

  const progress = 1 - restant / dureeTotale;
  const deg = 360 * progress;

  circle.style.background =
    `conic-gradient(#a855f7 0deg ${deg}deg, #1b1025 ${deg}deg 360deg)`;
}

/* ===== SWIPE ===== */
let xStart = 0;
fsOverlay.addEventListener("touchstart", e => xStart = e.touches[0].clientX);
fsOverlay.addEventListener("touchend", e => {
  const dx = e.changedTouches[0].clientX - xStart;
  if (Math.abs(dx) > 70) {
    if (dx < 0) nextExercice();
    else prevExercice();
  }
});
</script>

</body>
</html>
